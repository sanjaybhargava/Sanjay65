<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency Fund Calculator - ZeroFinanx</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React Dependencies -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Custom Styles -->
    <style>
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: #10B981;
            cursor: pointer;
            border: 2px solid #ffffff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .icon {
            display: inline-block;
            width: 1.25rem;
            height: 1.25rem;
            text-align: center;
            line-height: 1.25rem;
            font-size: 1rem;
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="flex items-center justify-center min-h-screen bg-gray-100">
            <div class="text-center p-8">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"></div>
                <p class="text-gray-600">Loading ZeroFinanx Emergency Fund Calculator...</p>
            </div>
        </div>
    </div>

    <!-- Application Code -->
    <script type="text/babel">
        const { useState, useEffect } = React;

        const EmergencyFundCalculator = () => {
          // User Inputs
          const [monthlyExpenses, setMonthlyExpenses] = useState(50000);
          const [jobStability, setJobStability] = useState('stable');
          const [dependents, setDependents] = useState(2);
          const [healthInsurance, setHealthInsurance] = useState('good');
          const [debtLevel, setDebtLevel] = useState('low');
          
          // Results
          const [results, setResults] = useState(null);

          // Format currency
          const formatINR = (amount) => {
            if (amount >= 10000000) {
              return `‚Çπ${(amount / 10000000).toFixed(2)} Cr`;
            } else if (amount >= 100000) {
              return `‚Çπ${(amount / 100000).toFixed(2)} L`;
            } else {
              return `‚Çπ${amount.toLocaleString('en-IN', { maximumFractionDigits: 0 })}`;
            }
          };

          // Calculate emergency fund
          const calculateEmergencyFund = () => {
            let months = 6; // Base months
            
            // Adjust based on job stability
            if (jobStability === 'unstable') months += 3;
            if (jobStability === 'very-unstable') months += 6;
            if (jobStability === 'very-stable') months -= 1;
            
            // Adjust based on dependents
            if (dependents >= 3) months += 2;
            if (dependents >= 5) months += 1;
            if (dependents === 0) months -= 1;
            
            // Adjust based on health insurance
            if (healthInsurance === 'none') months += 2;
            if (healthInsurance === 'basic') months += 1;
            if (healthInsurance === 'comprehensive') months -= 1;
            
            // Adjust based on debt level
            if (debtLevel === 'high') months += 2;
            if (debtLevel === 'medium') months += 1;
            
            // Ensure reasonable bounds
            months = Math.max(3, Math.min(12, months));
            
            const totalAmount = monthlyExpenses * months;
            const monthlyTarget = totalAmount / 12; // If saving over a year
            
            return {
              recommendedMonths: months,
              totalAmount,
              monthlyTarget,
              riskLevel: getRiskLevel(months),
              breakdown: getBreakdown(monthlyExpenses, months)
            };
          };
          
          const getRiskLevel = (months) => {
            if (months <= 4) return { level: 'Higher Risk', color: 'text-red-600', bg: 'bg-red-50' };
            if (months <= 6) return { level: 'Moderate Risk', color: 'text-yellow-600', bg: 'bg-yellow-50' };
            return { level: 'Lower Risk', color: 'text-green-600', bg: 'bg-green-50' };
          };
          
          const getBreakdown = (expenses, months) => {
            return {
              essential: expenses * 0.7 * months,
              buffer: expenses * 0.2 * months,
              contingency: expenses * 0.1 * months
            };
          };

          // Calculate when inputs change
          useEffect(() => {
            const result = calculateEmergencyFund();
            setResults(result);
          }, [monthlyExpenses, jobStability, dependents, healthInsurance, debtLevel]);

          return (
            <div className="max-w-6xl mx-auto p-6 bg-gradient-to-br from-green-50 to-emerald-100 min-h-screen">
              <div className="bg-white rounded-xl shadow-xl overflow-hidden">
                {/* Header */}
                <div className="bg-gradient-to-r from-gray-900 to-gray-700 text-white p-6">
                  <div className="flex items-center space-x-3">
                    <span className="icon">üõ°Ô∏è</span>
                    <div>
                      <h1 className="text-2xl font-bold">ZeroFinanx Emergency Fund Calculator</h1>
                      <p className="text-gray-100">Determine the right emergency fund size for your financial security</p>
                    </div>
                  </div>
                </div>

                <div className="p-6 space-y-8">
                  {/* Main Content: Inputs on Left, Results on Right */}
                  <div style={{ display: 'flex', flexDirection: 'row', gap: '2rem', flexWrap: 'wrap' }}>
                    
                    {/* LEFT COLUMN - ALL INPUTS */}
                    <div className="flex-1 space-y-6">
                      {/* Basic Information */}
                      <div className="bg-blue-50 rounded-lg p-6 border-l-4 border-blue-500">
                        <h2 className="text-lg font-semibold text-blue-800 mb-4 flex items-center">
                          <span className="icon">üí∞</span>
                          Your Financial Situation
                        </h2>
                        
                        <div className="space-y-6">
                          <div>
                            <label className="block text-sm font-medium text-gray-700 mb-2">
                              Monthly Expenses: ‚Çπ{monthlyExpenses.toLocaleString('en-IN')}
                            </label>
                            <input
                              type="range"
                              min="20000"
                              max="200000"
                              step="5000"
                              value={monthlyExpenses}
                              onChange={(e) => setMonthlyExpenses(parseInt(e.target.value))}
                              className="w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer"
                            />
                            <div className="flex justify-between text-xs text-gray-500 mt-1">
                              <span>‚Çπ20K</span>
                              <span>‚Çπ2L</span>
                            </div>
                          </div>

                          <div>
                            <label className="block text-sm font-medium text-gray-700 mb-2">
                              Number of Dependents: {dependents}
                            </label>
                            <input
                              type="range"
                              min="0"
                              max="6"
                              value={dependents}
                              onChange={(e) => setDependents(parseInt(e.target.value))}
                              className="w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer"
                            />
                            <div className="flex justify-between text-xs text-gray-500 mt-1">
                              <span>0</span>
                              <span>6+</span>
                            </div>
                          </div>
                        </div>
                      </div>

                      {/* Risk Factors */}
                      <div className="bg-orange-50 rounded-lg p-6 border-l-4 border-orange-500">
                        <h2 className="text-lg font-semibold text-orange-800 mb-4 flex items-center">
                          <span className="icon">‚öñÔ∏è</span>
                          Risk Assessment
                        </h2>
                        
                        <div className="space-y-6">
                          <div>
                            <label className="block text-sm font-medium text-gray-700 mb-3">
                              Job Stability
                            </label>
                            <div className="grid grid-cols-2 gap-2">
                              {[
                                { value: 'very-stable', label: 'Very Stable' },
                                { value: 'stable', label: 'Stable' },
                                { value: 'unstable', label: 'Unstable' },
                                { value: 'very-unstable', label: 'Very Unstable' }
                              ].map((option) => (
                                <button
                                  key={option.value}
                                  onClick={() => setJobStability(option.value)}
                                  className={`p-2 text-sm rounded-lg border transition-colors ${
                                    jobStability === option.value
                                      ? 'bg-orange-200 border-orange-500 text-orange-800'
                                      : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'
                                  }`}
                                >
                                  {option.label}
                                </button>
                              ))}
                            </div>
                          </div>

                          <div>
                            <label className="block text-sm font-medium text-gray-700 mb-3">
                              Health Insurance Coverage
                            </label>
                            <div className="grid grid-cols-2 gap-2">
                              {[
                                { value: 'comprehensive', label: 'Comprehensive' },
                                { value: 'good', label: 'Good' },
                                { value: 'basic', label: 'Basic' },
                                { value: 'none', label: 'None' }
                              ].map((option) => (
                                <button
                                  key={option.value}
                                  onClick={() => setHealthInsurance(option.value)}
                                  className={`p-2 text-sm rounded-lg border transition-colors ${
                                    healthInsurance === option.value
                                      ? 'bg-orange-200 border-orange-500 text-orange-800'
                                      : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'
                                  }`}
                                >
                                  {option.label}
                                </button>
                              ))}
                            </div>
                          </div>

                          <div>
                            <label className="block text-sm font-medium text-gray-700 mb-3">
                              Current Debt Level
                            </label>
                            <div className="grid grid-cols-3 gap-2">
                              {[
                                { value: 'low', label: 'Low' },
                                { value: 'medium', label: 'Medium' },
                                { value: 'high', label: 'High' }
                              ].map((option) => (
                                <button
                                  key={option.value}
                                  onClick={() => setDebtLevel(option.value)}
                                  className={`p-2 text-sm rounded-lg border transition-colors ${
                                    debtLevel === option.value
                                      ? 'bg-orange-200 border-orange-500 text-orange-800'
                                      : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'
                                  }`}
                                >
                                  {option.label}
                                </button>
                              ))}
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    {/* RIGHT COLUMN - RESULTS */}
                    <div className="flex-1 space-y-6">
                      {results && (
                        <>
                          {/* Main Recommendation */}
                          <div className="bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-6 border-l-4 border-green-500">
                            <h2 className="text-xl font-bold text-green-800 mb-4 flex items-center">
                              <span className="icon">üéØ</span>
                              Your Emergency Fund Target
                            </h2>
                            
                            <div className="space-y-4">
                              <div className="bg-white rounded-lg p-4 shadow">
                                <div className="text-sm text-gray-600">Recommended Fund Size</div>
                                <div className="text-3xl font-bold text-green-600">
                                  {formatINR(results.totalAmount)}
                                </div>
                                <div className="text-sm text-gray-500">
                                  {results.recommendedMonths} months of expenses
                                </div>
                              </div>

                              <div className="bg-white rounded-lg p-4 shadow">
                                <div className="text-sm text-gray-600">Monthly Savings Target</div>
                                <div className="text-xl font-bold text-blue-600">
                                  {formatINR(results.monthlyTarget)}
                                </div>
                                <div className="text-sm text-gray-500">
                                  To build fund in 12 months
                                </div>
                              </div>

                              <div className={`${results.riskLevel.bg} rounded-lg p-4 border`}>
                                <div className="text-sm text-gray-600">Risk Level</div>
                                <div className={`text-lg font-bold ${results.riskLevel.color}`}>
                                  {results.riskLevel.level}
                                </div>
                              </div>
                            </div>
                          </div>

                          {/* Fund Breakdown */}
                          <div className="bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-6 border-l-4 border-purple-500">
                            <h2 className="text-lg font-bold text-purple-800 mb-4 flex items-center">
                              <span className="icon">üìä</span>
                              Fund Allocation Breakdown
                            </h2>
                            
                            <div className="space-y-4">
                              <div className="bg-white rounded-lg p-4">
                                <div className="flex items-center justify-between mb-2">
                                  <span className="text-sm font-medium text-gray-700">Essential Expenses (70%)</span>
                                  <span className="text-sm font-bold text-blue-600">
                                    {formatINR(results.breakdown.essential)}
                                  </span>
                                </div>
                                <div className="w-full bg-gray-200 rounded-full h-2">
                                  <div className="bg-blue-500 h-2 rounded-full w-[70%]"></div>
                                </div>
                              </div>

                              <div className="bg-white rounded-lg p-4">
                                <div className="flex items-center justify-between mb-2">
                                  <span className="text-sm font-medium text-gray-700">Safety Buffer (20%)</span>
                                  <span className="text-sm font-bold text-green-600">
                                    {formatINR(results.breakdown.buffer)}
                                  </span>
                                </div>
                                <div className="w-full bg-gray-200 rounded-full h-2">
                                  <div className="bg-green-500 h-2 rounded-full w-[20%]"></div>
                                </div>
                              </div>

                              <div className="bg-white rounded-lg p-4">
                                <div className="flex items-center justify-between mb-2">
                                  <span className="text-sm font-medium text-gray-700">Contingency (10%)</span>
                                  <span className="text-sm font-bold text-purple-600">
                                    {formatINR(results.breakdown.contingency)}
                                  </span>
                                </div>
                                <div className="w-full bg-gray-200 rounded-full h-2">
                                  <div className="bg-purple-500 h-2 rounded-full w-[10%]"></div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </>
                      )}
                    </div>
                  </div>

                  {/* Guidelines */}
                  <div className="bg-cyan-50 rounded-lg p-6 border-l-4 border-cyan-500">
                    <h2 className="text-lg font-bold text-cyan-800 mb-4">üí° Emergency Fund Guidelines</h2>
                    <div className="grid md:grid-cols-2 gap-4 text-sm">
                      <div>
                        <h3 className="font-semibold text-gray-800 mb-2">‚úÖ What to Include:</h3>
                        <ul className="text-gray-600 space-y-1">
                          <li>‚Ä¢ Rent/mortgage payments</li>
                          <li>‚Ä¢ Food and groceries</li>
                          <li>‚Ä¢ Utilities and basic services</li>
                          <li>‚Ä¢ Insurance premiums</li>
                          <li>‚Ä¢ Minimum debt payments</li>
                          <li>‚Ä¢ Transportation costs</li>
                        </ul>
                      </div>
                      <div>
                        <h3 className="font-semibold text-gray-800 mb-2">‚ùå What to Exclude:</h3>
                        <ul className="text-gray-600 space-y-1">
                          <li>‚Ä¢ Entertainment expenses</li>
                          <li>‚Ä¢ Dining out frequently</li>
                          <li>‚Ä¢ Non-essential subscriptions</li>
                          <li>‚Ä¢ Luxury purchases</li>
                          <li>‚Ä¢ Vacation savings</li>
                          <li>‚Ä¢ Investment contributions</li>
                        </ul>
                      </div>
                    </div>
                  </div>

                  {/* Educational Note */}
                  <div className="bg-amber-50 border border-amber-200 rounded-lg p-4">
                    <div className="space-y-2">
                      <p className="text-sm text-amber-900 font-semibold">Educational Content Only</p>
                      <p className="text-sm text-amber-800">
                        This calculator is for educational purposes only and does not constitute financial, investment, legal, or tax advice. 
                        ZeroFinanx is not yet an SEC-registered advisor. For personalized guidance, consider consulting ChatGPT for general questions 
                        or speaking with a qualified financial advisor who can provide advice specific to your situation.
                      </p>
                      <p className="text-xs text-amber-700 font-medium">
                        Always consult with qualified professionals before making financial decisions.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          );
        };

        // Mount the component
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(EmergencyFundCalculator));
        
        console.log('‚úÖ ZeroFinanx Emergency Fund Calculator loaded successfully');
    </script>
</body>
</html>